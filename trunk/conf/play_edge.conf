# the config for srs to delivery RTMP
# @see https://github.com/ossrs/srs/wiki/v1_CN_SampleRTMP
# @see full.conf for detail config.

listen              1936;
max_connections     1000;
pid                 ./objs/play_edge.pid;
srs_log_file        ./objs/play_edge.log;
chunk_size          4096;
srs_log_level       trace;

http_server {
    enabled         on;
    listen          8090;
    dir             ./objs/nginx/;
}

vhost __defaultVhost__ {
	mode		remote;
	origin          172.16.198.129:2936;
	security {
                enabled         on;
                allow           play        all;
                deny            publish     all;
        }

	http_remux {
        	enabled     off;
        	mount       [vhost]/[app]/[stream].flv;
        	hstrs       on;
    	}
	gop_cache	off;
	queue_length	5;
	min_latency	on;
	mw_latency	100;
	tcp_nodelay	on;
}
